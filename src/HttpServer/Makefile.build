# -*- Makefile -*-

src    = \
	Utils.fs            \
	Mime.fs             \
	HttpLogger.fs       \
	HttpCode.fs         \
	HttpHeaders.fs      \
	HttpData.fs         \
	HttpStreamReader.fs \
	HttpServer.fs       \
	Program.fs

deps   = ../bin/CoreCrypto.dll ../bin/TLSLib.dll ../bin/TLSStream.dll
target = ../bin/HttpServer.exe

.PHONY: all dist make.in

all: $(target)

dist:
	cp $(src) $(distdir)

make.in:
	@true

$(target): $(src) $(deps)
	$(fsc) $(fsflags) $(addprefix -r ,$(deps)) -o $@ $(src)

include ../Makefile.config
