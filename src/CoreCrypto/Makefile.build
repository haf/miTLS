# -*- Makefile -*-

src    :=
deps   := ../bin/BouncyCastle.Crypto.dll
target  = ../bin/CoreCrypto.dll

include ../Makefile.config

.PHONY: all dist make.in

all: $(target)

dist:
	cp Makefile.config $(src) $(distdir)

make.in: Makefile.config
	@true

Makefile.config: CoreCrypto.fsproj
	-if [ -f $< ]; then ../scripts/makegen -o $@ $<; fi

CoreCrypto.fsproj:

include Makefile.config

$(target): $(src) $(deps)
	$(fsc) $(fsflags) $(addprefix -r ,$(deps)) -a -o $@ $(src)
